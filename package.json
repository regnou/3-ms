{
  "name"   : "4-ms",
  "version": "2020.0.0",
  "author" : "Axel Regnoult <regnou.a@gmail.com>",
  "license": "Apache-2.0",
  "scripts": {
    "separe-build--------1"     : "-------------- SERVE DEV --------------------------",
    "start"                     : "yarn start:back",
    "start:front"               : "es-dev-server",
    "start:back"                : "yarn serve:firebase:functions",
    "separe-build--------2"     : "-------------- SERVE PROD --------------------------",
    "serve"                     : "run-s build serve:firebase:functions",
    "serve:firebase"            : "firebase serve --only hosting,functions",
    "serve:firebase:public"     : "firebase serve --only hosting",
    "serve:firebase:functions"  : "firebase serve --only functions",
    "separe-lint---------3"     : "-------------- DEPLOY PROD --------------------------",
    "deploy"                    : "run-s build firebase:deploy",
    "firebase:deploy"           : "firebase deploy --only hosting,functions",
    "separe-build--------4"     : "-------------- BUILD --------------------------",
    "build"                     : "run-s  build:function:watch",
    "build:watch"               : "run-s  build:function:watch",
    "build:all:watch"           : "run-s  build:function:watch build:public:watch",
    "build:function:watch"      : "run-s  init:scaffold:dist  tsc:function:index:watch",
    "tsc:function:index:watch"  : "run-s   _compile:tsc:watch ",
    "_compile:tsc:watch"        : "./node_modules/.bin/tsc -w",
    "build:public:watch"        : "run-s  init:scaffold:dist  rollup:app:watch",
    "tsc"                       : "yarn _compile:tsc:watch",
    "build:all"                 : "run-s  build:public build:function",
    "build:public"              : "run-s  init:scaffold:dist  rollup:app",
    "build:function"            : "run-s  init:scaffold:dist  tsc:function:index",
    "tsc:function:index"        : "run-s   _compile:tsc",
    "_compile:tsc"              : "./node_modules/.bin/tsc",
    "tslint"                    : "tslint --project tsconfig.json",
    "init:scaffold:dist"        : "run-s  _clean:dist   _mkdir:dist   _copy:dist   _copy:static:html:partials    ",
    "_clean:dist"               : "shx rm     -rf 1-dist",
    "_mkdir:dist"               : "shx mkdir  1-dist    1-dist/public   1-dist/functions ",
    "_copy:dist"                : "shx cp     -r '0-lib/public/static' 1-dist/public     &&      shx cp '0-lib/functions/package.json' 1-dist/functions ",
    "_copy:static:html:partials": "shx cp     -r '0-lib/public/static/3-html/partials' 1-dist/public/static",
    "rollup:app"                : "rollup --config rollup.config.js ",
    "rollup:app:watch"          : "rollup  -w",
    "separe--------------5"     : "-------------- FIREBASE -----------------------",
    "logs-firebase"             : "firebase functions:log",
    "servef:firebase-DEV"       : "DEV=true firebase emulators:start --only functions",
    "firebase:emu:serve"        : "firebase emulators:start --only functions",
    "build:rollup:watch"        : "run-s      _clean:dist   _mkdir:dist   _copy:dist   _copy:static:html:partials    rollup:watch ",
    "rollup:watch"              : "rollup --config rollup.config.js -w",
    "build-ts"                  : "run-s      _clean:dist   _mkdir:dist   _copy:dist        _compile:tsc   _mkdir:opti-ts   _copy:static:html:partials    rollup:watch ",
    "build-ok"                  : "run-s      _clean:dist   _mkdir:dist   _copy:static:html:partials   css   inline               rollup ",
    "separe--------------6"     : "-------------- ** TS ** -----------------------",
    "separe-build--------7"     : "-------------- BUILD --------------------------",
    "css"                       : "postcss --output /tmp/styles.css 0-lib/styles.css",
    "inline"                    : "regex-replace '\\/\\*styles\\*\\/' \"$(cat /tmp/styles.css)\" 1-dist/public/partials/",
    "workbox"                   : "workbox injectManifest",
    "separe-lint---------8"     : "-------------- LINT functions --------------------------",
    "lint-js"                   : "./node_modules/.bin/eslint --max-warnings=500 .",
    "lint"                      : "eslint --ext='.js,.mjs' .",
    "prettier"                  : "prettier \"**/*.{json,md,scss,yaml,yml}\"",
    "prettier-full"             : "prettier \"**/*.{json,md,scss,yaml,yml, js,css}\"",
    "format"                    : "yarn prettier -- --write",
    "validate"                  : "yarn prettier -- --list-different",
    "fix:other"                 : "yarn prettier --write",
    "fix:js"                    : "yarn test:js --fix",
    "fix"                       : "yarn fix:js && yarn fix:other",
    "test:other"                : "yarn prettier --list-different",
    "test:js"                   : "eslint --ignore-path .gitignore --ignore-path .prettierignore \"**/*.{js,jsx}\"",
    "test"                      : "yarn test:other && yarn test:js",
    "debug-scraper"             : "nodemon --inspect-brk=60001 ./index.js",
    "separe--------------BK"    : ".....................",
    "bk:start-node"             : "node server.js",
    "bk:start-node:dev"         : "DEV=true node server.js",
    "bk:watch-esDevServer-ARG"  : "--root-dir <public>     --node-resolve --watch  --open <index.html>  --app-index",
    "bk:start-https"            : "es-dev-server --http2 --open  ",
    "bk:watch-esDevServer-ARG2" : "es-dev-server --config ./es-dev-server.config.js"
  },
  "dependencies": {
    "@popeindustries/lit-html-server": "^3.1.0",
    "@types/express"                 : "^4.16.0",
    "axios"                          : "^0.19.2",
    "body-parser"                    : "^1.18.3",
    "chalk"                          : "^4.1.0",
    "cors"                           : "^2.8.5",
    "del"                            : "^5.1.0",
    "express"                        : "^4.16.4",
    "fast-deep-equal"                : "^3.1.3",
    "firebase"                       : "7.19.1",
    "firebase-admin"                 : "^9.0.0",
    "firebase-functions"             : "^3.8.0",
    "firebase-functions-test"        : "^0.2.1",
    "firebase-tools"                 : "^8.1.1",
    "html-escaper"                   : "^3.0.0",
    "lit-element"                    : "^2.3.1",
    "lit-html"                       : "^1.0.0",
    "lru-cache"                      : "^5.1.1",
    "nunjucks"                       : "^3.1.7",
    "puppeteer"                      : "5.2.0",
    "puppeteer-to-istanbul"          : "^1.2.2",
    "sharp"                          : "^0.25.4",
    "workbox-cacheable-response"     : "^5.1.2",
    "workbox-cli"                    : "^5.1.2",
    "workbox-core"                   : "^5.1.2",
    "workbox-expiration"             : "^5.1.2",
    "workbox-precaching"             : "^5.1.2",
    "workbox-routing"                : "^5.1.2",
    "workbox-strategies"             : "^5.1.2",
    "workbox-streams"                : "^5.1.2"
  },
  "devDependencies": {
    "@ampproject/rollup-plugin-closure-compiler": "^0.26.0",
    "@babel/core"                               : "^7.9.0",
    "@babel/preset-env"                         : "^7.9.5",
    "@open-wc/building-rollup"                  : "^1.0.0",
    "@open-wc/eslint-config"                    : "^3.0.0",
    "@rollup/plugin-commonjs"                   : "^15.0.0",
    "@rollup/plugin-node-resolve"               : "^9.0.0",
    "@rollup/plugin-replace"                    : "^2.3.2",
    "@rollup/plugin-typescript"                 : "^5.0.2",
    "@surma/rollup-plugin-off-main-thread"      : "^1.4.1",
    "@webcomponents/webcomponentsjs"            : "^2.4.4",
    "cssnano"                                   : "^4.1.10",
    "es-dev-server"                             : "^1.57.3",
    "eslint"                                    : "^7.7.0",
    "eslint-config-google"                      : "^0.14.0",
    "eslint-config-prettier"                    : "^6.11.0",
    "eslint-plugin-header"                      : "^3.0.0",
    "eslint-plugin-import"                      : "^2.22.0",
    "husky"                                     : "^4.2.5",
    "lint-staged"                               : "^10.0.0",
    "npm-run-all"                               : "^4.1.5",
    "postcss-cli"                               : "^7.1.0",
    "postcss-css-variables"                     : "^0.17.0",
    "prettier"                                  : "^2.0.4",
    "regex-replace"                             : "^2.3.1",
    "regexparam"                                : "^1.3.0",
    "rollup"                                    : "^2.7.2",
    "rollup-plugin-babel"                       : "^4.4.0",
    "rollup-plugin-string"                      : "^3.0.0",
    "shx"                                       : "^0.3.2",
    "tslint"                                    : "^6.1.2",
    "typescript"                                : "^4.0.2"
  }
}
